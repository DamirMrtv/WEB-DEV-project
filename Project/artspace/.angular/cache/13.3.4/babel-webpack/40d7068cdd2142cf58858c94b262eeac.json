{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport jwt_decode from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction AppComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_14_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.showReg();\n    });\n    i0.ɵɵelementStart(2, \"button\", 24);\n    i0.ɵɵtext(3, \"Sign up\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_14_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.showLogin();\n    });\n    i0.ɵɵelementStart(5, \"button\", 25);\n    i0.ɵɵtext(6, \"Sign in\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AppComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 26)(2, \"button\", 27);\n    i0.ɵɵtext(3, \"My Profile\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_15_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.logout();\n    });\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵtext(6, \"Log out\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"routerLink\", ctx_r2.getMyProfile());\n  }\n}\n\nfunction AppComponent_div_29_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Username is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_div_29_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Username must be a at least 1 character\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, AppComponent_div_29_div_1_Template, 2, 0, \"div\", 30);\n    i0.ɵɵtemplate(2, AppComponent_div_29_div_2_Template, 2, 0, \"div\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f.username.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f.username.errors.username);\n  }\n}\n\nfunction AppComponent_div_34_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_div_34_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password must be at least 6 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, AppComponent_div_34_div_1_Template, 2, 0, \"div\", 30);\n    i0.ɵɵtemplate(2, AppComponent_div_34_div_2_Template, 2, 0, \"div\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f.password.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f.password.errors.minlength);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(formBuilder, userService) {\n      this.formBuilder = formBuilder;\n      this.userService = userService;\n      this.title = 'artspace';\n      this.logged = false;\n      this.submitted = false;\n    }\n\n    showLogin() {\n      this.showModalLogin = true; // Show-Hide Modal Check\n    }\n\n    showReg() {\n      alert(\"Sorry, registration is currently closed.\");\n    }\n\n    hideLogin() {\n      this.showModalLogin = false;\n    }\n\n    ngOnInit() {\n      const token = localStorage.getItem('token');\n\n      if (token) {\n        this.logged = true;\n      }\n\n      this.loginForm = this.formBuilder.group({\n        username: ['', [Validators.required, Validators.minLength(1)]],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n    }\n\n    get f() {\n      return this.loginForm.controls;\n    }\n\n    onSubmit() {\n      this.submitted = true;\n\n      if (this.loginForm.invalid) {\n        return;\n      }\n\n      if (this.submitted) {\n        this.userService.login(this.loginForm.value.username, this.loginForm.value.password).subscribe(data => {\n          localStorage.setItem('token', data.token);\n          this.showModalLogin = false;\n          this.logged = true;\n        });\n      }\n    }\n\n    logout() {\n      if (confirm(\"Are you sure you want to log out?\")) {\n        this.logged = false;\n        localStorage.removeItem('token');\n      }\n    }\n\n    getMyProfile() {\n      this.tokenInfo = jwt_decode(localStorage.getItem('token'));\n      return `/${this.tokenInfo.user_id}`;\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 42,\n    vars: 13,\n    consts: [[\"routerLink\", \"/home\", 1, \"logo\"], [1, \"nav-links\"], [\"routerLink\", \"/home\"], [\"routerLink\", \"/categories\"], [\"routerLink\", \"/about\"], [\"class\", \"signing\", 4, \"ngIf\", \"ngIfElse\"], [\"myProfile\", \"\"], [\"id\", \"imagemodal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"myModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"myModalLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", 3, \"ngClass\"], [\"type\", \"submit\", 1, \"submit\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"closebutton\", 3, \"click\"], [1, \"content\"], [1, \"signing\"], [3, \"click\"], [1, \"signup\"], [1, \"signin\"], [3, \"routerLink\"], [1, \"profilebutton\"], [1, \"logout\"], [1, \"invalid-feedback\"], [4, \"ngIf\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\")(1, \"a\", 0);\n        i0.ɵɵtext(2, \"ArtSpace\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"nav\")(4, \"ul\", 1)(5, \"li\")(6, \"a\", 2);\n        i0.ɵɵtext(7, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"li\")(9, \"a\", 3);\n        i0.ɵɵtext(10, \"Categories\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"li\")(12, \"a\", 4);\n        i0.ɵɵtext(13, \"About us\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(14, AppComponent_div_14_Template, 7, 0, \"div\", 5);\n        i0.ɵɵtemplate(15, AppComponent_ng_template_15_Template, 7, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 7)(18, \"div\", 8)(19, \"div\", 9)(20, \"div\", 10)(21, \"h4\", 11);\n        i0.ɵɵtext(22, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 12)(24, \"form\", 13);\n        i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_24_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(25, \"div\", 14)(26, \"label\");\n        i0.ɵɵtext(27, \"Username\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"input\", 15);\n        i0.ɵɵtemplate(29, AppComponent_div_29_Template, 3, 2, \"div\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 14)(31, \"label\");\n        i0.ɵɵtext(32, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"input\", 17);\n        i0.ɵɵtemplate(34, AppComponent_div_34_Template, 3, 2, \"div\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 18);\n        i0.ɵɵtext(36, \"Login\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(37, \"div\", 19)(38, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_38_listener() {\n          return ctx.hideLogin();\n        });\n        i0.ɵɵtext(39, \"Close\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(40, \"div\", 21);\n        i0.ɵɵelement(41, \"router-outlet\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(16);\n\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngIf\", !ctx.logged)(\"ngIfElse\", _r1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"display\", ctx.showModalLogin ? \"block\" : \"none\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ctx.submitted && ctx.f.username.errors));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.username.errors);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ctx.submitted && ctx.f.password.errors));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.password.errors);\n      }\n    },\n    directives: [i3.RouterLinkWithHref, i4.NgIf, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i4.NgClass, i3.RouterOutlet],\n    styles: [\"header[_ngcontent-%COMP%]{box-shadow:0 4px 2px -2px #0003}*[_ngcontent-%COMP%]{background-color:inherit}.logo[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:700;font-family:Courier New,Courier,monospace}.logo[_ngcontent-%COMP%]:hover{color:#29bb89}li[_ngcontent-%COMP%], a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;font-weight:400;font-size:16px;color:#333;text-decoration:none;background-color:#ebebeb}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 10%;position:fixed;top:0;left:0;width:100%;margin-bottom:5px;background-color:#ebebeb;z-index:100}.logo[_ngcontent-%COMP%]{cursor:pointer}.nav-links[_ngcontent-%COMP%]{list-style:none;margin:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:0 20px}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .1s ease 0s}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border:1px solid #333;padding:7px 10px;color:#29bb89;border-radius:10px}.signup[_ngcontent-%COMP%], .submit[_ngcontent-%COMP%], .profilebutton[_ngcontent-%COMP%]{padding:9px 20px;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease 0s}.signin[_ngcontent-%COMP%], .closebutton[_ngcontent-%COMP%], .logout[_ngcontent-%COMP%]{padding:9px 20px;background-color:#e60023;border:none;color:#ebebeb;cursor:pointer;border-radius:8px;margin-left:5px}.signup[_ngcontent-%COMP%]:hover, .submit[_ngcontent-%COMP%]:hover, .profilebutton[_ngcontent-%COMP%]:hover{background-color:#29bb8999}.signin[_ngcontent-%COMP%]:hover, .closebutton[_ngcontent-%COMP%]:hover, .logout[_ngcontent-%COMP%]:hover{background-color:#ff0023cc}.modal[_ngcontent-%COMP%]{background-color:#ffffff80}.modal-dialog[_ngcontent-%COMP%]{background-color:#fff}.content[_ngcontent-%COMP%]{margin-top:67px}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}