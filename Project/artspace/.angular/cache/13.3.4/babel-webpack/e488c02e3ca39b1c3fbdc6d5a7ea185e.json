{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../albums.service\";\nimport * as i4 from \"ngx-bootstrap/modal\";\nimport * as i5 from \"../album-detail/album-detail.component\";\n\nfunction AlbumPhotosComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function AlbumPhotosComponent_div_2_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const photo_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n\n      const _r1 = i0.ɵɵreference(4);\n\n      return ctx_r4.openModal(_r1, photo_r3.id);\n    });\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const photo_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", photo_r3.url, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction AlbumPhotosComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AlbumPhotosComponent_ng_template_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.modalRef.hide();\n    });\n    i0.ɵɵelementStart(6, \"span\", 9);\n    i0.ɵɵtext(7, \"x\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r2.thisPhoto.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.thisPhoto.description);\n  }\n}\n\nexport let AlbumPhotosComponent = /*#__PURE__*/(() => {\n  class AlbumPhotosComponent {\n    constructor(route, location, albumsService, modalService) {\n      this.route = route;\n      this.location = location;\n      this.albumsService = albumsService;\n      this.modalService = modalService;\n    }\n\n    ngOnInit() {\n      this.getPhotos();\n    }\n\n    getPhotos() {\n      // @ts-ignore\n      this.route.paramMap.subscribe(x => this.id = +x.get('id'));\n      this.albumsService.getPhotos(this.id).subscribe(photos => {\n        this.photos = photos;\n      });\n    }\n\n    getPhoto(photoID) {\n      // @ts-ignore\n      // this.route.paramMap.subscribe((x) => this.id = +x.get('id'));\n      this.albumsService.getPhoto(this.id, photoID).subscribe(photo => {\n        // @ts-ignore\n        this.thisPhoto = photo;\n      });\n    }\n\n    openModal(template, photoId) {\n      this.getPhoto(photoId);\n      this.modalRef = this.modalService.show(template);\n    }\n\n    openModal1(template) {\n      this.modalRef = this.modalService.show(template);\n    }\n\n  }\n\n  AlbumPhotosComponent.ɵfac = function AlbumPhotosComponent_Factory(t) {\n    return new (t || AlbumPhotosComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Location), i0.ɵɵdirectiveInject(i3.AlbumsService), i0.ɵɵdirectiveInject(i4.BsModalService));\n  };\n\n  AlbumPhotosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AlbumPhotosComponent,\n    selectors: [[\"app-album-photos\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"all-photos\"], [\"class\", \"photos\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"template\", \"\"], [1, \"photos\", 3, \"click\"], [1, \"photo\"], [3, \"src\"], [1, \"modal-bg\"], [1, \"modal\"], [\"type\", \"button\", \"aria-label\", \"close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"]],\n    template: function AlbumPhotosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-album-detail\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵtemplate(2, AlbumPhotosComponent_div_2_Template, 3, 1, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, AlbumPhotosComponent_ng_template_3_Template, 8, 2, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.photos);\n      }\n    },\n    directives: [i5.AlbumDetailComponent, i2.NgForOf],\n    styles: [\".all-photos[_ngcontent-%COMP%]{margin:0;padding:0;width:90vw;position:absolute;left:50%;transform:translate(-50%);display:grid;grid-template-columns:repeat(auto-fill,236px);grid-auto-rows:10px;justify-content:center}.newPhoto[_ngcontent-%COMP%]{border:2px black solid;border-radius:20px;position:relative;overflow:hidden;padding:0;margin:15px 10px;grid-row-end:span 26;display:flex;justify-content:center;align-content:center}.photos[_ngcontent-%COMP%]{border-radius:20px;position:relative;overflow:hidden;padding:0;margin:15px 10px;grid-row-end:span 26}.photos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-shrink:0;min-width:50%;min-height:50%}.photos[_ngcontent-%COMP%]:hover{opacity:.9;transform:scale(.8)}.photo[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;cursor:pointer}.modal-bg[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal[_ngcontent-%COMP%]{margin:200px auto auto 380px;background-color:#fff;width:60%;height:70%;display:flex;justify-content:space-around;flex-direction:row;border-radius:12px;padding:20px}.modal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{align-self:center;width:50%;height:90%;border-radius:8px}.modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:40%;padding-left:30px;padding-top:50px;font-size:20px;font-family:monospace}.close[_ngcontent-%COMP%]{width:32px;height:32px;border:none;opacity:.3;font-size:32px}.close[_ngcontent-%COMP%]:hover{opacity:1}\"]\n  });\n  return AlbumPhotosComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}